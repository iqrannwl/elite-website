{%extends "base.html"%}
{%load static%}
{%block content%}
<div class="main-content bg-lighter">
    <!-- Section: inner-header -->
    <section class="inner-header divider parallax layer-overlay overlay-dark-5" data-bg-img="{%static 'images/bg/bg3.jpg' %}">
      <div class="container pt-70 pb-20">
        <!-- Section Content -->
        <div class="section-content">
          <div class="row">
            <div class="col-md-12">
              <h2 class="title text-white">Courses</h2>
              <ol class="breadcrumb text-left text-black mt-10">
                <li><a href="#">Home</a></li>
                <li class="active text-gray-silver">Course</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section: Course gird -->
    <section>
      <div class="container">
        <div class="row">
          <!-- Course List Sidebar -->
          <div class="col-sm-12 col-md-4">
            <div class="sidebar sidebar-left mt-sm-30 ml-40">
              <div class="widget">
                <h4 class="widget-title line-bottom">Courses <span class="text-theme-color-2">List</span></h4>
                <div class="services-list">
                  <ul class="list list-border angle-double-right">
                    {% for course in courses %}
                    <li><a href="#" class="course-link" data-target="{{ course.course_name|slugify }}">{{ course.course_name }}</a></li>
                    {% endfor %}
                  </ul>
                </div>
              </div>
            </div>
          </div>
    
          <!-- Course Details -->
          <div class="col-md-8">
            {% for course in courses %}
            <div class="single-service course-detail" id="{{ course.course_name|slugify }}" style="display: none;">
              <img src="images/services/lg9.jpg" alt="">
              <h4>{{course.course_name}}</h4>
              <p>{{ course.course_detail | safe }}</p>
              <!-- Compulsory Subjects -->
              <h3 class="text-theme-colored">{{ course.title }}</h3>
              {% if course.compulsory_subjects.all %}
              <div class="widget">
                <h4 class="widget-title">Compulsory Subjects</h4>
                <ul class="list list-border">
                  {% for compulsory_subject in course.compulsory_subjects.all %}
                  <li>{{ compulsory_subject.subject_name }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
    
              <!-- Elective Subjects -->
              {% if course.elective_subjects.all %}
              <div class="widget">
                <h4 class="widget-title">Elective Subjects</h4>
                <ul class="list list-border">
                  {% for elective_subject in course.elective_subjects.all %}
                  <li>{{ elective_subject.subject_name }}</li>
                  {% endfor %}
                </ul>
              </div>
              {% endif %}
              <h4>Duration</h4>
              <p>
                {{course.duration}}
              </p>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </section>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const courseLinks = document.querySelectorAll(".course-link");
        const courseDetails = document.querySelectorAll(".course-detail");
    
        // Show the first course by default
        if (courseDetails.length > 0) {
          courseDetails[0].style.display = "block";
        }
    
        courseLinks.forEach(link => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("data-target");
    
            // Hide all course details
            courseDetails.forEach(detail => {
              detail.style.display = "none";
            });
    
            // Show the selected course detail
            document.getElementById(targetId).style.display = "block";
          });
        });
      });
    </script>
    
    
  </div>
{%endblock content%}